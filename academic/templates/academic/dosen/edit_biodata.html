{% extends 'academic/base.html' %}

{% block title %}Edit Biodata Dosen{% endblock %}

{% block content %}
<style>
    .page-header { background: linear-gradient(135deg, #00c7be 0%, #00d4cc 100%); color: white; padding: 60px 0; margin: -40px 0 40px 0; border-radius: 0 0 40px 40px; box-shadow: 0 10px 40px rgba(0, 199, 190, 0.3); }
    .page-header h1 { font-size: 42px; font-weight: 600; margin-bottom: 10px; }
    .page-header p { font-size: 19px; opacity: 0.9; }
    .back-btn { display: inline-flex; align-items: center; gap: 8px; color: white; text-decoration: none; font-size: 16px; margin-bottom: 20px; padding: 8px 16px; background: rgba(255,255,255,0.2); border-radius: 980px; transition: all 0.3s ease; }
    .back-btn:hover { background: rgba(255,255,255,0.3); }
    .form-card { background: white; border-radius: 20px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); overflow: hidden; margin-bottom: 32px; }
    .form-header { background: linear-gradient(135deg, #f5f5f7 0%, #e8e8ed 100%); padding: 20px 24px; border-bottom: 1px solid #d2d2d7; }
    .form-header h2 { font-size: 20px; font-weight: 600; color: #1d1d1f; margin: 0; }
    .form-body { padding: 32px; }
    .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px; margin-bottom: 24px; }
    .form-group { display: flex; flex-direction: column; }
    .form-label { font-size: 14px; font-weight: 600; color: #1d1d1f; margin-bottom: 8px; }
    .form-input, .form-select, .form-textarea { padding: 12px 16px; border: 1px solid #d2d2d7; border-radius: 12px; font-size: 15px; color: #1d1d1f; transition: all 0.3s ease; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
    .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: #00c7be; box-shadow: 0 0 0 3px rgba(0, 199, 190, 0.1); }
    .form-textarea { resize: vertical; min-height: 100px; }
    .form-full { grid-column: 1 / -1; }
    .btn-group { display: flex; gap: 16px; margin-top: 32px; }
    .btn { padding: 14px 32px; border-radius: 980px; font-size: 16px; font-weight: 600; text-decoration: none; display: inline-flex; align-items: center; justify-content: center; gap: 8px; transition: all 0.3s ease; border: none; cursor: pointer; }
    .btn-primary { background: #00c7be; color: white; }
    .btn-primary:hover { background: #00b3ab; transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0, 199, 190, 0.3); }
    .btn-secondary { background: #f5f5f7; color: #1d1d1f; }
    .btn-secondary:hover { background: #e8e8ed; }
    @media (max-width: 768px) { .form-grid { grid-template-columns: 1fr; } .btn-group { flex-direction: column; } }
</style>

<div class="page-header">
    <div class="container">
        <a href="{% url 'dosen_biodata' %}" class="back-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7"></path>
            </svg>
            Kembali
        </a>
        <h1>Edit Biodata</h1>
        <p>Perbarui data pribadi Anda</p>
    </div>
</div>

<div class="container">
    <form method="POST" action="{% url 'dosen_edit_biodata' %}" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- Data Pribadi -->
        <div class="form-card">
            <div class="form-header">
                <h2>Data Pribadi</h2>
            </div>
            <div class="form-body">
                <div class="form-grid">
                    <div class="form-group form-full">
                        <label class="form-label">Foto Dosen</label>
                        {% if dosen.foto %}
                        <div style="margin-bottom: 12px;">
                            <img src="{{ dosen.foto.url }}" alt="Foto Dosen" style="max-width: 150px; border-radius: 12px; border: 3px solid #e8e8ed;">
                        </div>
                        {% endif %}
                        <input type="file" name="foto" class="form-input" accept="image/*">
                        <small style="color: #6b7280; font-size: 13px; margin-top: 6px; display: block;">Format: JPG, PNG, max 2MB</small>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tempat Lahir</label>
                        <input type="text" name="tempat_lahir" class="form-input" value="{{ dosen.tempat_lahir }}" placeholder="Masukkan tempat lahir">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tanggal Lahir</label>
                        <input type="date" name="tanggal_lahir" class="form-input" value="{{ dosen.tanggal_lahir|date:'Y-m-d' }}">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Jenis Kelamin</label>
                        <select name="jenis_kelamin" class="form-select">
                            <option value="">Pilih jenis kelamin</option>
                            <option value="L" {% if dosen.jenis_kelamin == 'L' %}selected{% endif %}>Laki-laki</option>
                            <option value="P" {% if dosen.jenis_kelamin == 'P' %}selected{% endif %}>Perempuan</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Kontak -->
        <div class="form-card">
            <div class="form-header">
                <h2>Data Kontak</h2>
            </div>
            <div class="form-body">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" name="email" class="form-input" value="{{ dosen.email }}" placeholder="email@example.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">No Telepon</label>
                        <input type="tel" name="no_telp" class="form-input" value="{{ dosen.no_telp }}" placeholder="08xxxxxxxxxx">
                    </div>
                    <div class="form-group form-full">
                        <label class="form-label">Alamat</label>
                        <textarea name="alamat" class="form-textarea" placeholder="Masukkan alamat lengkap">{{ dosen.alamat }}</textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Akademik -->
        <div class="form-card">
            <div class="form-header">
                <h2>Data Akademik</h2>
            </div>
            <div class="form-body">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Gelar Depan</label>
                        <input type="text" name="gelar_depan" class="form-input" value="{{ dosen.gelar_depan }}" placeholder="Contoh: Dr.">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Gelar Belakang</label>
                        <input type="text" name="gelar_belakang" class="form-input" value="{{ dosen.gelar_belakang }}" placeholder="Contoh: M.Kom., Ph.D.">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Pendidikan Terakhir</label>
                        <input type="text" name="pendidikan_terakhir" class="form-input" value="{{ dosen.pendidikan_terakhir }}" placeholder="Contoh: S3 Ilmu Komputer">
                    </div>
                    <div class="form-group">
                        <label class="form-label">NIP</label>
                        <input type="text" name="nip" class="form-input" value="{{ dosen.nip }}" placeholder="Nomor Induk Pegawai">
                    </div>
                </div>
            </div>
        </div>

        <div class="btn-group">
            <button type="submit" class="btn btn-primary">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 13l4 4L19 7"></path>
                </svg>
                Simpan Perubahan
            </button>
            <a href="{% url 'dosen_biodata' %}" class="btn btn-secondary">
                Batal
            </a>
        </div>
    </form>
</div>
{% endblock %}
