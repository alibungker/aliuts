{% extends 'academic/base.html' %}

{% block title %}Edit Biodata Mahasiswa{% endblock %}

{% block content %}
<style>
    .page-header { background: linear-gradient(135deg, #5856d6 0%, #6c5ce7 100%); color: white; padding: 60px 0; margin: -40px 0 40px 0; border-radius: 0 0 40px 40px; box-shadow: 0 10px 40px rgba(88, 86, 214, 0.3); }
    .page-header h1 { font-size: 42px; font-weight: 600; margin-bottom: 10px; }
    .page-header p { font-size: 19px; opacity: 0.9; }
    .back-btn { display: inline-flex; align-items: center; gap: 8px; color: white; text-decoration: none; font-size: 16px; margin-bottom: 20px; padding: 8px 16px; background: rgba(255,255,255,0.2); border-radius: 980px; transition: all 0.3s ease; }
    .back-btn:hover { background: rgba(255,255,255,0.3); }
    .form-card { background: white; border-radius: 20px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); overflow: hidden; margin-bottom: 32px; }
    .form-header { background: linear-gradient(135deg, #f5f5f7 0%, #e8e8ed 100%); padding: 20px 24px; border-bottom: 1px solid #d2d2d7; }
    .form-header h2 { font-size: 20px; font-weight: 600; color: #1d1d1f; margin: 0; }
    .form-body { padding: 32px; }
    .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px; margin-bottom: 24px; }
    .form-group { display: flex; flex-direction: column; }
    .form-label { font-size: 14px; font-weight: 600; color: #1d1d1f; margin-bottom: 8px; }
    .form-input, .form-select, .form-textarea { padding: 12px 16px; border: 1px solid #d2d2d7; border-radius: 12px; font-size: 15px; color: #1d1d1f; transition: all 0.3s ease; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
    .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: #5856d6; box-shadow: 0 0 0 3px rgba(88, 86, 214, 0.1); }
    .form-textarea { resize: vertical; min-height: 100px; }
    .form-full { grid-column: 1 / -1; }
    .btn-group { display: flex; gap: 16px; margin-top: 32px; }
    .btn { padding: 14px 32px; border-radius: 980px; font-size: 16px; font-weight: 600; text-decoration: none; display: inline-flex; align-items: center; justify-content: center; gap: 8px; transition: all 0.3s ease; border: none; cursor: pointer; }
    .btn-primary { background: #5856d6; color: white; }
    .btn-primary:hover { background: #4745c2; transform: translateY(-2px); box-shadow: 0 8px 20px rgba(88, 86, 214, 0.3); }
    .btn-secondary { background: #f5f5f7; color: #1d1d1f; }
    .btn-secondary:hover { background: #e8e8ed; }
    @media (max-width: 768px) { .form-grid { grid-template-columns: 1fr; } .btn-group { flex-direction: column; } }
</style>

<div class="page-header">
    <div class="container">
        <a href="{% url 'mahasiswa_biodata' %}" class="back-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7"></path>
            </svg>
            Kembali
        </a>
        <h1>Edit Biodata</h1>
        <p>Perbarui data pribadi Anda</p>
    </div>
</div>

<div class="container">
    <form method="POST" action="{% url 'mahasiswa_edit_biodata' %}">
        {% csrf_token %}

        <!-- Data Pribadi -->
        <div class="form-card">
            <div class="form-header">
                <h2>Data Pribadi</h2>
            </div>
            <div class="form-body">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Tempat Lahir</label>
                        <input type="text" name="tempat_lahir" class="form-input" value="{{ mahasiswa.tempat_lahir }}" placeholder="Masukkan tempat lahir">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tanggal Lahir</label>
                        <input type="date" name="tanggal_lahir" class="form-input" value="{{ mahasiswa.tanggal_lahir|date:'Y-m-d' }}">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Jenis Kelamin</label>
                        <select name="jenis_kelamin" class="form-select">
                            <option value="">Pilih jenis kelamin</option>
                            <option value="L" {% if mahasiswa.jenis_kelamin == 'L' %}selected{% endif %}>Laki-laki</option>
                            <option value="P" {% if mahasiswa.jenis_kelamin == 'P' %}selected{% endif %}>Perempuan</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Agama</label>
                        <select name="agama" class="form-select">
                            <option value="">Pilih agama</option>
                            <option value="Islam" {% if mahasiswa.agama == 'Islam' %}selected{% endif %}>Islam</option>
                            <option value="Kristen" {% if mahasiswa.agama == 'Kristen' %}selected{% endif %}>Kristen</option>
                            <option value="Katolik" {% if mahasiswa.agama == 'Katolik' %}selected{% endif %}>Katolik</option>
                            <option value="Hindu" {% if mahasiswa.agama == 'Hindu' %}selected{% endif %}>Hindu</option>
                            <option value="Buddha" {% if mahasiswa.agama == 'Buddha' %}selected{% endif %}>Buddha</option>
                            <option value="Konghucu" {% if mahasiswa.agama == 'Konghucu' %}selected{% endif %}>Konghucu</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Kontak -->
        <div class="form-card">
            <div class="form-header">
                <h2>Data Kontak</h2>
            </div>
            <div class="form-body">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" name="email" class="form-input" value="{{ mahasiswa.email }}" placeholder="email@example.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">No Telepon</label>
                        <input type="tel" name="no_telp" class="form-input" value="{{ mahasiswa.no_telp }}" placeholder="08xxxxxxxxxx">
                    </div>
                    <div class="form-group form-full">
                        <label class="form-label">Alamat</label>
                        <textarea name="alamat" class="form-textarea" placeholder="Masukkan alamat lengkap">{{ mahasiswa.alamat }}</textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Orang Tua -->
        <div class="form-card">
            <div class="form-header">
                <h2>Data Orang Tua / Wali</h2>
            </div>
            <div class="form-body">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Nama Ayah</label>
                        <input type="text" name="nama_ayah" class="form-input" value="{{ mahasiswa.nama_ayah }}" placeholder="Nama lengkap ayah">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Pekerjaan Ayah</label>
                        <input type="text" name="pekerjaan_ayah" class="form-input" value="{{ mahasiswa.pekerjaan_ayah }}" placeholder="Pekerjaan ayah">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nama Ibu</label>
                        <input type="text" name="nama_ibu" class="form-input" value="{{ mahasiswa.nama_ibu }}" placeholder="Nama lengkap ibu">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Pekerjaan Ibu</label>
                        <input type="text" name="pekerjaan_ibu" class="form-input" value="{{ mahasiswa.pekerjaan_ibu }}" placeholder="Pekerjaan ibu">
                    </div>
                    <div class="form-group">
                        <label class="form-label">No Telepon Orang Tua</label>
                        <input type="tel" name="no_telp_ortu" class="form-input" value="{{ mahasiswa.no_telp_ortu }}" placeholder="08xxxxxxxxxx">
                    </div>
                    <div class="form-group form-full">
                        <label class="form-label">Alamat Orang Tua</label>
                        <textarea name="alamat_ortu" class="form-textarea" placeholder="Masukkan alamat lengkap orang tua">{{ mahasiswa.alamat_ortu }}</textarea>
                    </div>
                </div>
            </div>
        </div>

        <div class="btn-group">
            <button type="submit" class="btn btn-primary">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 13l4 4L19 7"></path>
                </svg>
                Simpan Perubahan
            </button>
            <a href="{% url 'mahasiswa_biodata' %}" class="btn btn-secondary">
                Batal
            </a>
        </div>
    </form>
</div>
{% endblock %}
